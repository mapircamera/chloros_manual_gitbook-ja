# プロジェクトへのファイル追加

Chlorosでプロジェクトを作成または開いたら、次にマルチスペクトル画像を追加して処理を開始します。ファイルブラウザ<img src="../.gitbook/assets/icon_file-browser.JPG" alt="" data-size="line"> タブを使用すると、画像のインポートやデータセットの管理が簡単に行えます。

## ファイルブラウザへのアクセス

1. Chlorosでプロジェクトを開くか作成する
2. 左サイドバーの**ファイルブラウザ** <img src="../.gitbook/assets/icon_file-browser.JPG" alt="" data-size="line"> アイコンをクリックします
3. ファイルブラウザパネルにプロジェクトのファイル一覧が表示されます

{% hint style="info" %}
**対応ファイル形式**: Chlorosは、MAPIR、Survey3W、Survey3NカメラのRAW+JPGおよびJPG画像ファイルに対応しています。RAW+JPG形式のみ推奨されます。
{% endhint %}

***

## プロジェクトへの画像追加

プロジェクトに画像を追加する主な方法は2つあります：

### 方法1：ファイルの追加

個別の画像ファイルまたは少数のファイルを選択してインポートする場合にこのオプションを使用します。

1. ファイルブラウザパネル上部の**「ファイルを追加」** <img src="../.gitbook/assets/image.png" alt="" data-size="line"> ボタンをクリックします
2. 画像ファイルが含まれるフォルダに移動します
3. 1つ以上の画像ファイルを選択します（複数ファイルを選択するには**Ctrl**キーを押しながら選択）
4. **「開く」**をクリックして選択したファイルをインポートします

### 方法2: フォルダを追加

フォルダ内の全画像を一度にインポートする場合に使用します。

1. ファイルブラウザパネル上部の**「フォルダを追加」** <img src="../.gitbook/assets/image (1).png" alt="" data-size="line"> ボタンをクリックします
2. キャプチャセッションの画像が含まれるフォルダに移動して選択します
3. **「フォルダを選択」**をクリックして、そのフォルダ内のサポートされている画像をすべてインポートします

***

## ファイルブラウザテーブルの理解

画像がインポートされると、以下の列を持つテーブルに表示されます：

### ファイル名

* カメラからのオリジナルファイル名
* カメラの命名規則を維持（例: IMG\_0001.RAW）

### タイムスタンプ

* 画像がキャプチャされた日時
* 画像のEXIFメタデータから抽出
* PPK同期およびキャリブレーションターゲット検出に使用

### カメラモデル

* 自動検出されたカメラとフィルターの構成
* 例: Survey3W\_RGN, Survey3N\_OCN, Survey3W\_RGB
* 正しい処理プロファイルを適用するために使用

### ターゲット列 (チェックボックス)

* キャリブレーションターゲットを含む画像にチェック
* 処理中のターゲット検出を大幅に高速化
* 詳細は[ターゲット画像の選択](choosing-target-images.md)を参照

### 画像メタデータの表示

テーブル上部の右隅にあるトグルボタンをクリックすると、選択した画像のメタデータが画像グリッド領域に表示されます。

<figure><img src="../.gitbook/assets/chloros_grid_meta.gif" alt=""><figcaption></figcaption></figure>

***

## プロジェクト内のファイル管理

### ファイルの削除

プロジェクトから不要な画像を削除するには：

1. ファイルブラウザテーブルで1つ以上の画像を選択
2. **「選択した画像を削除」** <img src="../.gitbook/assets/image (2).png" alt="" data-size="line"> ボタンをクリックします
3. 削除を確認します（ファイルはディスクから削除されず、プロジェクトからのみ除外されます）

### 並べ替えとフィルタリング

* **列で並べ替え**：任意の列ヘッダーをクリックして画像を並べ替えます
* **タイムスタンプ順**：撮影順序で整理するのに便利です
* **カメラモデルフィルター**：複数のカメラを使用している場合、カメラタイプごとに画像をグループ化します

***

## 画像プレビュー

### フル画像の表示

ファイルブラウザ内の任意の画像サムネイルをクリックすると、メインプレビュー領域に表示されます：

1. 画像が中央のプレビューパネルに表示されます
2. ズームコントロールを使用して画像の詳細を確認できます
3. 矢印キーで画像間を移動できます

### クイックナビゲーション

* **前の画像**：左矢印をクリックするか、←キーを押します
* **次の画像**: 右矢印をクリックまたは→キーを押す
* **ズームイン/アウト**: マウスホイールまたはズームボタンを使用
* **パン**: 拡大表示時に画像上でクリック＆ドラッグ

***

## 重複ファイルの処理

Chlorosは重複ファイルを自動検出し無視します:

* 同一ファイル名はスキップされます
* 誤った二重処理を防止します
* 重複検出時には警告メッセージが表示されます

{% hint style="warning" %}
**重要**: 読み込み前に元の画像ファイルの名前変更や修正を行わないでください。Chlorosは適切な処理のために元のファイル名とメタデータに依存しています。
{% endhint %}

***

## 混合カメラデータセット

プロジェクトに複数のカメラからの画像が含まれる場合:

1. Chlorosが各カメラモデルを自動検出
2. 各カメラタイプは適切なキャリブレーションプロファイルで処理
3. ファイルブラウザはカメラモデル列にカメラモデルを表示します
4. 処理は各カメラタイプに正しい設定を適用します

**例**: Survey3W RGN + Survey3N OCN デュアルカメラ設定

***

## ベストプラクティス

### インポート前の整理

* キャリブレーションターゲット画像は測量画像と同じフォルダに保管
* カメラ/SDカード元のフォルダ構造を維持
* 異なるセッションのデータセットを1プロジェクトで混在させない

### ファイル命名

* カメラのオリジナルファイル名（IMG\_0001.RAWなど）を保持
* インポート前にファイル名を変更しない
* 元の名前には重要なメタデータが含まれています

### キャリブレーションターゲット画像

* セッションごとに必ず1～2枚のキャリブレーションターゲット画像を含める
* キャプチャセッションの前後でターゲットを撮影する
* ターゲットを撮影エリアと同じ照明条件下に配置する
* 処理を高速化するため、ターゲット画像には「ターゲット」チェックボックスを適用する

***

## よくある問題と解決策

### インポート後に画像が表示されない

**考えられる原因:**

* ファイル形式が非対応（MAPIRカメラのRAW+JPGおよびJPGのみ対応）
* MAPIR以外のカメラで撮影された画像（[対応カメラ](../supported-cameras.md)を参照）
* ファイル破損またはSDカードからの転送が不完全

**解決策**: ファイル形式とカメラモデルの互換性を確認

### カメラモデルが検出されない

**考えられる原因:**

* EXIFメタデータが変更されている
* 外部ソフトウェアで画像が編集されている
* ファイル転送が不完全

**解決策**: カメラ/SDカードから元の未変更ファイルを再インポート

### タイムスタンプの欠落

**考えられる原因:**

* カメラの時計設定が正しくない
* 外部ソフトウェアによるEXIFデータの削除

**解決策**: 撮影時のカメラ時刻設定が正しかったか確認

***

## 次に取るべき手順

ファイルのインポート完了後:

1. **ファイルリストの確認** - 全ての画像が正しく読み込まれたことを確認
2. **カメラモデルの確認** - 正しいカメラ検出を確認
3. **対象画像のマーク付け** - [対象画像の選択](choosing-target-images.md) を参照
4. **設定の調整** - [プロジェクト設定](adjusting-project-settings.md) で処理オプションを構成
5. **処理を開始** - [処理の開始](starting-the-processing.md)を参照

プロジェクト設定の詳細については、[プロジェクト設定の調整](adjusting-project-settings.md)を参照してください。
